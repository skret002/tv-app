{"version":3,"file":"switch.min.js","sources":["../../components/base/dispatch-focus-mixin.js","../../components/base/base-plugin.js","../../components/base/uniqueid-mixin.js","../../components/switch/mdc-switch.vue","../../components/base/auto-init.js","../../components/switch/entry.js"],"sourcesContent":["export const DispatchFocusMixin = {\n  data() {\n    return { hasFocus: false }\n  },\n  methods: {\n    onMouseDown() {\n      this._active = true\n    },\n    onMouseUp() {\n      this._active = false\n    },\n    onFocusEvent() {\n      // dispatch async to let time to other focus event to propagate\n      setTimeout(() => this.dispatchFocusEvent(), 0)\n    },\n    onBlurEvent() {\n      // dispatch async to let time to other focus event to propagate\n      // also filtur blur if mousedown\n      this._active || setTimeout(() => this.dispatchFocusEvent(), 0)\n    },\n    dispatchFocusEvent() {\n      let hasFocus =\n        this.$el === document.activeElement ||\n        this.$el.contains(document.activeElement)\n      if (hasFocus != this.hasFocus) {\n        this.$emit(hasFocus ? 'focus' : 'blur')\n        this.hasFocus = hasFocus\n      }\n    }\n  },\n  mounted() {\n    this.$el.addEventListener('focusin', this.onFocusEvent)\n    this.$el.addEventListener('focusout', this.onBlurEvent)\n    this.$el.addEventListener('mousedown', this.onMouseDown)\n    this.$el.addEventListener('mouseup', this.onMouseUp)\n  },\n  beforeDestroy() {\n    this.$el.removeEventListener('focusin', this.onFocusEvent)\n    this.$el.removeEventListener('focusout', this.onBlurEvent)\n    this.$el.removeEventListener('mousedown', this.onMouseDown)\n    this.$el.removeEventListener('mouseup', this.onMouseUp)\n  }\n}\n","export function BasePlugin(components) {\n  return {\n    version: '__VERSION__',\n    install: vm => {\n      for (let key in components) {\n        let component = components[key]\n        vm.component(component.name, component)\n      }\n    },\n    components\n  }\n}\n","let uid_ = 0\n\nexport const VMAUniqueIdMixin = {\n  beforeCreate() {\n    this.vma_uid_ = `_vma_${uid_++}`\n  }\n}\n","<template>\n  <div\n    :class=\"{\n      'mdc-form-field': hasLabel,\n      'mdc-form-field--align-end': hasLabel && alignEnd\n    }\"\n    class=\"mdc-switch-wrapper\" >\n\n    <div\n      :class=\"{'mdc-switch--disabled': disabled }\"\n      class=\"mdc-switch\">\n      <input\n        ref=\"control\"\n        :name=\"name\"\n        :id=\"vma_uid_\"\n        :checked=\"checked\"\n        :disabled=\"disabled\"\n        type=\"checkbox\"\n        class=\"mdc-switch__native-control\"\n        @change=\"onChanged\" >\n\n      <div class=\"mdc-switch__background\">\n        <div class=\"mdc-switch__knob\"/>\n      </div>\n\n    </div>\n\n    <label\n      v-if=\"hasLabel\"\n      :for=\"vma_uid_\"\n      class=\"mdc-switch-label\">\n      <slot>{{ label }}</slot>\n    </label>\n\n  </div>\n</template>\n\n<script>\nimport { DispatchFocusMixin, VMAUniqueIdMixin } from '../base'\n\nexport default {\n  name: 'mdc-switch',\n  mixins: [DispatchFocusMixin, VMAUniqueIdMixin],\n  model: {\n    prop: 'checked',\n    event: 'change'\n  },\n  props: {\n    checked: Boolean,\n    label: String,\n    alignEnd: Boolean,\n    disabled: Boolean,\n    value: {\n      type: String,\n      default() {\n        return 'on'\n      }\n    },\n    name: String\n  },\n  computed: {\n    hasLabel() {\n      return this.label || this.$slots.default\n    }\n  },\n  methods: {\n    onChanged(event) {\n      this.$emit('change', event.target.checked)\n    }\n  }\n}\n</script>\n","export function autoInit(plugin) {\n  // Auto-install\n  let _Vue = null\n  if (typeof window !== 'undefined') {\n    _Vue = window.Vue\n  } else if (typeof global !== 'undefined') {\n    /*global global*/\n    _Vue = global.Vue\n  }\n  if (_Vue) {\n    _Vue.use(plugin)\n  }\n}\n","import './styles.scss'\nimport { autoInit } from '../base'\nimport plugin from './index.js'\nexport default plugin\n\nautoInit(plugin)\n"],"names":["components","uid_","render","hasFocus","_active","_this","dispatchFocusEvent","setTimeout","_this2","this","$el","document","activeElement","contains","$emit","addEventListener","onFocusEvent","onBlurEvent","onMouseDown","onMouseUp","removeEventListener","vma_uid_","Boolean","String","label","$slots","default","event","target","checked","key","component","name","plugin","_Vue","window","Vue","global","use"],"mappings":";;;;;;;;;wLAAO,ICAoBA,ECAvBC,EAAO,KCwCKC,0yBACR,6CHvCKC,UAAU,yCAIZC,SAAU,6BAGVA,SAAU,iDAIJ,kBAAMC,EAAKC,sBAAsB,2CAKvCF,SAAWG,WAAW,kBAAMC,EAAKF,sBAAsB,sCAGxDH,EACFM,KAAKC,MAAQC,SAASC,eACtBH,KAAKC,IAAIG,SAASF,SAASC,eACzBT,GAAYM,KAAKN,gBACdW,MAAMX,EAAW,QAAU,aAC3BA,SAAWA,6BAKfO,IAAIK,iBAAiB,UAAWN,KAAKO,mBACrCN,IAAIK,iBAAiB,WAAYN,KAAKQ,kBACtCP,IAAIK,iBAAiB,YAAaN,KAAKS,kBACvCR,IAAIK,iBAAiB,UAAWN,KAAKU,0CAGrCT,IAAIU,oBAAoB,UAAWX,KAAKO,mBACxCN,IAAIU,oBAAoB,WAAYX,KAAKQ,kBACzCP,IAAIU,oBAAoB,YAAaX,KAAKS,kBAC1CR,IAAIU,oBAAoB,UAAWX,KAAKU,2CEpCxCE,iBAAmBpB,mBCwClB,gBACC,yBAGEqB,cACFC,gBACGD,iBACAA,oBAEFC,gCAEG,YAGLA,6CAIGd,KAAKe,OAASf,KAAKgB,OAAOC,sCAIzBC,QACHb,MAAM,SAAUa,EAAMC,OAAOC,uBFjE3B,iBACA,gBACF,IAAIC,KAAO9B,EAAY,KACtB+B,EAAY/B,EAAW8B,KACxBC,UAAUA,EAAUC,KAAMD,gBANV/B,wBGApB,SAAkBiC,OAEnBC,EAAO,KACW,oBAAXC,SACFA,OAAOC,IACa,oBAAXC,WAETA,OAAOD,KAEZF,KACGI,IAAIL,ICLJA"}