{"remainingRequest":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/skret002/Projects/TV-ENV/tv_pro/tv-app/src/components/Portfolio.vue?vue&type=style&index=0&id=effa8246&scoped=true&lang=css&","dependencies":[{"path":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/src/components/Portfolio.vue","mtime":1593973166266},{"path":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/skret002/Projects/TV-ENV/tv_pro/tv-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaXRlbSB7CiAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbiAhaW1wb3J0YW50OwogICB3aWR0aDogMTAwJTsKICAgaGVpZ2h0OiAxMDAlOwogICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7CiAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7Cn0KI2NhcnVzZWx7CiAgbWFyZ2luLXRvcDo1MHB4Owp9Ci5ib3R0b217CiAgbWFyZ2luLXRvcDo1MHB4OwogIG1hcmdpbi1ib3R0b206IDEwMHB4Owp9Ci5ub3RfbWVkaWF7CiAgbWFyZ2luLXRvcDoxMDBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZm9udC1zaXplOiAxLjhyZW07Cn0KICAucG9ydGZvbGlvewogICAgbWFyZ2luLXRvcDogMzBweDsKICB9CiAgLm1lZGlhewogICAgcGFkZGluZzogMjBweDsKICB9CiAgLmxpZmVfc2MgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLXRvcDo1MHB4OwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICB9CiAgLmxpZmVfc2MgaDJ7CiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7CiAgICBmb250LXNpemU6IDJyZW07CiAgfQpAbWVkaWEgKG1heC13aWR0aDogNzM2cHgpIHsKfQo="},{"version":3,"sources":["Portfolio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Portfolio.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-flex\n      class=\"portfolio\"\n      id=\"portfolio\"\n      lg10 xl10 md10   sm10 xs10\n      offset-lg1 offset-xl1 offset-md1 offset-sm1 offset-xs1\n    >\n    <div class=\"life_sc\"><h2>Из жизни сервисного центра</h2></div>\n      <v-row v-if=\"notItem\">\n            <v-flex class=\"media\" v-for=\"(item, i) in media\" :key=\"i\" md4>\n              <v-card>\n                <v-img\n                  :src=\"'http://localhost:8000'+item.prew_img\"\n                  class=\"white--text align-end\"\n                  gradient=\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"\n                  height=\"200px\"\n                >\n                  <v-card-title v-text=\"item.title\"></v-card-title>\n                </v-img>\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                 <v-btn  v-on:click=\"setModal(item.id, item.prew_img)\" class=\"ma-2\" outlined color=\"#2052c9\">подробнее</v-btn>\n                </v-card-actions>\n          </v-card>\n            </v-flex>\n      </v-row>\n      <div class=\"text-center not_media\" v-else><h2>Пока больше нет! Зайдите к нам позже.</h2></div>\n      <div class=\"text-center bottom\">\n              <v-btn rounded color=\"primary\" dark v-if=\"notItem\"  @click=\"getMedia()\">Загрузить еще</v-btn>\n              <v-btn rounded color=\"primary\" dark v-else @click=\"restartMedia()\">Показать сначала</v-btn>\n            </div>\n\n    </v-flex>\n  <div class=\"modal\">\n    <v-row justify=\"center\">\n    <v-dialog v-model=\"dialog\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n      <v-card class=\"stor_cart\">\n        <v-toolbar dark color=\"primary\">\n          <v-btn style=\"position: absolute;right: 0;\" icon dark @click=\"dialog = false, dopmedia=[], dopcontent=[]\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n          <v-spacer></v-spacer>\n        </v-toolbar>\n           <v-flex id=\"carusel\"\n              lg8 xl8 md10   sm10 xs10\n              offset-lg2 offset-xl2 offset-md1 offset-sm1 offset-xs1\n            >\n        <v-carousel\n        :height=\"carHeight\"\n        >\n            <v-carousel-item\n              v-for=\"(item,i) in dopmedia\"\n              :key=\"i\"\n              reverse-transition=\"fade-transition\"\n              transition=\"fade-transition\"\n            >\n            <div class=\"item\" :style=\"{'background-image':'url('+'http://localhost:8000'+item.path+')'}\"></div>\n            </v-carousel-item>\n          </v-carousel>\n          <div class=\"content\" v-if=\"dopcontent[0]\">\n              <v-card-title v-text=\"dopcontent[0]['title']\"></v-card-title>\n              <v-card-text v-html=\"dopcontent[1]['content']\"></v-card-text>\n          </div>\n           </v-flex>\n\n      </v-card>\n    </v-dialog>\n  </v-row>\n\n  </div>\n  </div>\n</template>\n\n<script>\nimport { HTTP } from '../common'\n\nexport default {\n  data () {\n    return {\n      carHeight:500,\n      notItem:true,\n      start:0,\n      end:9,\n      dopcontent:[],\n      dopmedia:[],\n      dialog: false,\n      notifications: false,\n      sound: true,\n      widgets: false,\n      media: null\n    }\n  },\n  methods: {\n    restartMedia(){\n    this.start=0;\n    this.end=9;\n    this.getMedia();\n    this.notItem=true;\n    },\n    setModal(id,f_img){\n      if (window.screen.width<960){\n        this.carHeight=250;\n      }\n      this.dialog = true;\n     HTTP.post('/portfolio_img/',\n     {params: {data:[{\"id\":id}]}}).then(response => {\n        this.dopcontent.push({'title':response.data[0]['portfolio']['title']})\n        this.dopcontent.push({'content':response.data[0]['portfolio']['content']})\n       for(var i  in response.data){\n          this.dopmedia.push({'path':response.data[i][\"img\"]})\n       }\n      })\n        this.dopmedia.push({'path':f_img})\n    },\n    scrollToBlock () {\n      var el = this.$route.params.id\n      document.getElementById(el).scrollIntoView()\n    },\n    getMedia () {\n      HTTP.post('/portfolio/',\n     {params: {data:[{\"start\":this.start,\"end\":this.end}]}}).then(response => {\n        if(response.data.length==0){\n          this.notItem = false;\n        }else{\n        this.media = response.data\n        }\n      })\n      this.start = this.start +9;\n      this.end = this.end +9;\n    },\n     afteRenderUpdate () {\n      let topPanel = document.getElementById('topPanel')\n      if (window.screen.width > 736) {\n        let floatPanel = document.getElementById('float_panel')\n        if (topPanel) {\n          topPanel.style.backgroundColor = 'black'\n          topPanel.style.position = 'static'\n          floatPanel.style.marginBottom = '50px'\n        } else {\n          setTimeout(() => this.afteRenderUpdate(), 100)\n        }\n      } else if (window.screen.width <= 736 && topPanel) {\n        topPanel.style.backgroundColor = 'black'\n        topPanel.style.position = 'static'\n        topPanel.style.height = '100px'\n        document.getElementById('body').scrollIntoView()\n        this.getMedia()\n      } else {\n        setTimeout(() => this.afteRenderUpdate(), 100)\n      }\n    }\n  },\n  created: function () {\n    this.afteRenderUpdate()\n    this.getMedia();\n  }\n}\n</script>\n\n<style scoped>\n.item {\n   background-size: contain !important;\n   width: 100%;\n   height: 100%;\n   background-position: center;\n   background-repeat: no-repeat;\n}\n#carusel{\n  margin-top:50px;\n}\n.bottom{\n  margin-top:50px;\n  margin-bottom: 100px;\n}\n.not_media{\n  margin-top:100px;\n  text-align: center;\n  font-size: 1.8rem;\n}\n  .portfolio{\n    margin-top: 30px;\n  }\n  .media{\n    padding: 20px;\n  }\n  .life_sc {\n    text-align: center;\n    margin-top:50px;\n    margin-bottom: 30px;\n  }\n  .life_sc h2{\n    font-family: 'Roboto', sans-serif;\n    font-size: 2rem;\n  }\n@media (max-width: 736px) {\n}\n</style>\n"]}]}